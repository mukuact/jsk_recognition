<launch>
  <arg name="INPUT" default="/camera/rgb/image_rect_color" />
  <arg name="INPUT_ON" default="false" />
  <arg name="NET" default="zf" />

  <group unless="$(arg INPUT_ON)">
    <include file="$(find openni2_launch)/launch/openni2.launch">
    </include>
  </group>


  <node name="faster_rcnn"
        pkg="jsk_perception" type="faster_rcnn_caffenet.py" > 
    <remap from="~input" to="$(arg INPUT)" />
    <param name="net" value="$(arg NET)" />
  </node>

  <node name="draw_rect_array"
        pkg="jsk_perception" type="draw_rect_array.py">
    <remap from="~input" to="$(arg INPUT)" />
    <remap from="~input/rect_array" to="faster_rcnn/rect_array" />
    <rosparam>
      approximate_sync: True
      slop: 10
    </rosparam>
  </node>

  <node name="image_view"
        pkg="image_view" type="image_view">
    <remap from="image" to="draw_rect_array/output" />
  </node>

</launch>
